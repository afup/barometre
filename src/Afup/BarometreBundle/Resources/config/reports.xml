<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services
                               http://symfony.com/schema/dic/services/services-1.0.xsd">
    <services>
        <service id="afup.barometre.report.abstract" abstract="true" public="false">
            <argument>%min_result%</argument>
        </service>

        <service id="afup.barometre.report.abstract_distribution_evolution" abstract="true" public="false">
            <argument type="service" id="Afup\Barometre\RequestModifier\RequestModifierCollection" />
            <argument>%min_result%</argument>
        </service>

        <service id="afup.barometre.report.salary" class="Afup\Barometre\Report\SalaryReport"  parent="afup.barometre.report.abstract">
            <call method="setChildReports">
                <argument type="collection">
                    <argument type="service">
                        <service class="Afup\Barometre\Report\SalaryEvolutionReport">
                            <argument type="service" id="Afup\Barometre\RequestModifier\RequestModifierCollection" />
                            <argument>%min_result%</argument>
                        </service>
                    </argument>
                </argument>
            </call>
        </service>

        <service id="afup.barometre.report.status" class="Afup\Barometre\Report\StatusReport" parent="afup.barometre.report.abstract">
            <call method="setChildReports">
                <argument type="collection">
                    <argument type="service">
                        <service class="Afup\Barometre\Report\StatusEvolutionReport" parent="afup.barometre.report.abstract_distribution_evolution" />
                    </argument>
                </argument>
            </call>
        </service>

        <service id="afup.barometre.report.php_version" class="Afup\Barometre\Report\PhpVersionReport" parent="afup.barometre.report.abstract">
            <call method="setChildReports">
                <argument type="collection">
                    <argument type="service">
                        <service class="Afup\Barometre\Report\PhpVersionEvolutionReport" parent="afup.barometre.report.abstract_distribution_evolution" />
                    </argument>
                </argument>
            </call>
        </service>

        <service id="afup.barometre.report.gender" class="Afup\Barometre\Report\GenderReport">
            <argument>%min_result%</argument>
            <call method="setChildReports">
                <argument type="collection">
                    <argument type="service">
                        <service class="Afup\Barometre\Report\GenderSalaryEvolutionReport">
                            <argument type="service" id="Afup\Barometre\RequestModifier\RequestModifierCollection" />
                            <argument>%min_result%</argument>
                        </service>
                    </argument>
                    <argument type="service">
                        <service class="Afup\Barometre\Report\GenderCountEvolutionReport" parent="afup.barometre.report.abstract_distribution_evolution" />
                    </argument>
                </argument>
            </call>
        </service>

        <service id="afup.barometre.report.remote_usage" class="Afup\Barometre\Report\RemoteUsageReport" parent="afup.barometre.report.abstract">
            <call method="setChildReports">
                <argument type="collection">
                    <argument type="service">
                        <service class="Afup\Barometre\Report\RemoteUsageEvolutionReport" parent="afup.barometre.report.abstract_distribution_evolution" />
                    </argument>
                </argument>
            </call>
        </service>

    </services>
</container>
